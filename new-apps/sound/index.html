<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
	<title>LFO Effects</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://CDN.JSDelivr.net/g/p5.js(p5.min.js+addons/p5.dom.js+addons/p5.sound.js)"></script>
	<script src="Tone.js"></script>
    <!-- <script src="tonejs-ui.js"></script> -->
    <script  src="script.js"></script>
    <style>
        .container {
            height: 300px;
            width: 100vw;
        }
    </style>
</head>
<body>
    <!-- <div class="container">
	<tone-example>

		<tone-content>
			<tone-play-toggle id="osc0"></tone-play-toggle>
			<tone-auto-panner collapsed></tone-auto-panner>
			<tone-play-toggle id="osc1"></tone-play-toggle>
			<tone-auto-filter collapsed></tone-auto-filter>
			<tone-play-toggle id="osc2"></tone-play-toggle>
			<tone-tremolo collapsed></tone-tremolo>
		</tone-content>
    </tone-example>
</div> -->

    <button id="leButton">YO CLICK ME!</button>
    <script type="text/javascript">
        
		//AutoPanner - a panning modulation effect
		var panner = new Tone.AutoPanner({
			"frequency" : 1,
			"depth" : 1
		}).toMaster().start();
		//AutoFilter - a filter modulation effect
		// var filter = new Tone.AutoFilter({
		// 	"frequency" : 1,
		// 	"depth" : 0.6
		// }).toMaster().start();
		//Tremolo - an amplitude modulation effect
		// var tremolo = new Tone.Tremolo({
		// 	"frequency" : 0.6,
		// 	"depth" : 0.7
		// }).toMaster().start();
		//the input oscillators
		var osc0 = new Tone.Oscillator({ 
			"volume" : -Infinity, 
			"type" : "square6",
			"frequency" : "C4"
		}).connect(panner).start();
		// var osc1 = new Tone.Oscillator({ 
		// 	"volume" : -Infinity, 
		// 	"type" : "square6",
		// 	"frequency" : "E4"
		// }).connect(filter).start();
		// var osc2 = new Tone.Oscillator({ 
		// 	"volume" : -Infinity, 
		// 	"type" : "square6",
		// 	"frequency" : "A4"
		// }).connect(tremolo).start();
        //bind the interface
        let button = document.querySelector("#leButton");
        // button.onclick = function(e) { osc0.volume.rampTo(0, 0.1); };
        button.addEventListener("click", e=> {
            osc0.volume.rampTo(0, 0.1);
        });
        document.addEventListener("click", e=> {
            osc0.volume.rampTo(0, 0.1);
        });



        
		// document.querySelector("#osc0").addEventListener("change", e => {
		// 	osc0.volume.rampTo(e.detail ? 0 : -Infinity, 0.1);
        // });
        

		// document.querySelector("#osc1").addEventListener("change", e => {
		// 	osc1.volume.rampTo(e.detail ? 0 : -Infinity, 0.1);
		// });
		// document.querySelector("#osc2").addEventListener("change", e => {
		// 	osc2.volume.rampTo(e.detail ? 0 : -Infinity, 0.1);
		// });
		// document.querySelector("tone-tremolo").bind(tremolo);
		// document.querySelector("tone-auto-filter").bind(filter);
		// document.querySelector("tone-auto-panner").bind(panner);
		
	</script>
	
</body>
</html>